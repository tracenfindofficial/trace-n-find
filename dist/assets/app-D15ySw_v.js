const e={theme:"light",isMobileMenuOpen:!1},t={preloader:document.getElementById("preloader"),header:document.getElementById("header"),mobileMenuButton:document.getElementById("mobileMenuButton"),mobileMenu:document.getElementById("mobileMenu"),themeToggles:document.querySelectorAll("#themeToggle, #themeToggleMobile, .theme-toggle"),backToTop:document.getElementById("backToTop"),statUsers:document.getElementById("stat-users"),statRecovery:document.getElementById("stat-recovery"),statSupport:document.getElementById("stat-support"),sectionsToAnimate:document.querySelectorAll(".fade-in-section, .timeline-item-container"),particleContainer:document.getElementById("particle-container")};function n(){!function(){t.themeToggles&&t.themeToggles.forEach(e=>{e&&e.addEventListener("click",o)});t.backToTop&&t.backToTop.addEventListener("click",a);t.mobileMenuButton&&t.mobileMenu&&(t.mobileMenuButton.addEventListener("click",()=>l()),t.mobileMenu.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>l(!1))}));t.header&&window.addEventListener("scroll",()=>{window.scrollY>50?t.header.classList.add("scrolled"):t.header.classList.remove("scrolled")});t.backToTop&&window.addEventListener("scroll",()=>{window.scrollY>300?(t.backToTop.classList.add("is-visible"),t.backToTop.classList.remove("opacity-0","translate-y-20")):(t.backToTop.classList.remove("is-visible"),t.backToTop.classList.add("opacity-0","translate-y-20"))})}(),s(),function(){if(!t.sectionsToAnimate)return;const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-visible"),t.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});t.sectionsToAnimate.forEach(t=>{t&&e.observe(t)})}(),function(){const e=(e,t,n,o=!1)=>{if(!e)return;let s=0,l=parseInt(t,10);isNaN(l)&&(l=0);let a=null;const i=t=>{a||(a=t);const r=Math.min((t-a)/n,1);let c=Math.floor(r*(l-s)+s);e.textContent=c.toLocaleString(),r<1?window.requestAnimationFrame(i):o&&(e.textContent+="%")};window.requestAnimationFrame(i)};if(t.statUsers){const n=new IntersectionObserver((n,o)=>{n.forEach(n=>{n.isIntersecting&&(t.statUsers&&e(t.statUsers,67,2e3),t.statRecovery&&e(t.statRecovery,69,2e3,!0),t.statSupport&&e(t.statSupport,24,1500),o.unobserve(n.target))})},{threshold:.8}),o=t.statUsers.parentElement?t.statUsers.parentElement.parentElement:null;o&&n.observe(o)}}(),t.particleContainer&&function(e){if(!t.particleContainer)return;let n=null;try{if(document.styleSheets.length>0)n=document.styleSheets[document.styleSheets.length-1];else{let e=document.createElement("style");document.head.appendChild(e),n=e.sheet}}catch(s){return void console.error("Could not access stylesheet to add particle keyframes.",s)}const o=5;for(let t=1;t<=o;t++){const e=`particleFloat_${t}`,o=100*Math.random()-50;try{n.insertRule(`\n                @keyframes ${e} {\n                    0% {\n                        transform: translateY(0) translateX(0);\n                        opacity: 0;\n                    }\n                    20% {\n                        opacity: 0.7;\n                    }\n                    80% {\n                        opacity: 0.7;\n                    }\n                    100% {\n                        transform: translateY(-100vh) translateX(${o}px);\n                        opacity: 0;\n                    }\n                }\n            `,n.cssRules.length)}catch(s){console.warn(`Could not insert particle animation rule: ${e}`,s)}}for(let l=0;l<e;l++){const e=document.createElement("div");e.classList.add("particle");const n=5*Math.random()+2,s=100*Math.random(),a=15*Math.random(),i=10*Math.random()+15;e.style.width=`${n}px`,e.style.height=`${n}px`,e.style.left=`${s}%`,e.style.bottom=`-${n}px`;const r="particleFloat_"+(l%o+1);e.style.animation=`${r} ${i}s linear ${a}s infinite`,t.particleContainer.appendChild(e)}}(20),window.addEventListener("load",()=>{setTimeout(()=>{t.preloader&&(t.preloader.style.opacity="0",setTimeout(()=>{t.preloader.style.display="none"},500))},500)})}function o(){const t=document.documentElement.classList.toggle("dark");e.theme=t?"dark":"light",document.documentElement.setAttribute("data-theme",e.theme),localStorage.setItem("theme",e.theme),s()}function s(){const n=document.documentElement.classList.contains("dark");e.theme=n?"dark":"light",t.themeToggles.forEach(e=>{if(e){const t=e.querySelector(".bi-moon-fill"),o=e.querySelector(".bi-sun-fill");o&&(o.style.display=n?"block":"none"),t&&(t.style.display=n?"none":"block")}})}function l(n){if(e.isMobileMenuOpen=void 0!==n?n:!e.isMobileMenuOpen,t.mobileMenu&&t.mobileMenu.classList.toggle("hidden",!e.isMobileMenuOpen),t.mobileMenuButton){const n=t.mobileMenuButton.querySelector("i");n&&(n.className=e.isMobileMenuOpen?"bi bi-x-lg text-3xl":"bi bi-list text-3xl")}}function a(){window.scrollTo({top:0,behavior:"smooth"})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n();
