function e(e,t,n="info"){const o=document.getElementById("toastContainer");if(!o)return;const a=document.createElement("div");a.className=`toast toast-${n}`;let r="",i="";switch(n){case"success":r="bi-check-circle-fill",i="var(--color-success)";break;case"error":r="bi-exclamation-triangle-fill",i="var(--color-danger)";break;case"info":r="bi-info-circle-fill",i="var(--color-info)";break;case"warning":r="bi-exclamation-circle-fill",i="var(--color-warning)"}a.innerHTML=`\n        <i class="bi ${r} toast-icon" style="color: ${i}"></i>\n        <div class="toast-content">\n            <div class="toast-title">${e}</div>\n            <div class="toast-message">${t}</div>\n        </div>\n        <button class="text-slate-400 hover:text-slate-600" onclick="this.parentElement.remove()"><i class="bi bi-x-lg"></i></button>\n    `,o.appendChild(a),setTimeout(()=>{a.classList.add("show")},10),setTimeout(()=>{a.parentElement&&(a.classList.remove("show"),setTimeout(()=>{a.parentElement&&a.remove()},400))},5e3)}function t(e,t,o="primary",a,r,i={}){const s={confirmationModal:document.getElementById("confirmationModal"),modalClose:document.getElementById("modalClose"),modalTitle:document.getElementById("modalTitle"),modalMessage:document.getElementById("modalMessage"),modalConfirm:document.getElementById("modalConfirm"),modalCancel:document.getElementById("modalCancel")};if(!s.confirmationModal)return;s.modalTitle.textContent=e;const{isHTML:l=!1}=i;l?s.modalMessage.innerHTML=t:s.modalMessage.textContent=t,s.modalConfirm.className="btn";let c="btn-primary";"danger"===o&&(c="btn-danger"),"warning"===o&&(c="btn-warning text-gray-800"),"info"===o&&(c="btn-info"),"success"===o&&(c="btn-success"),s.modalConfirm.classList.add(c);const d=s.modalConfirm.cloneNode(!0);s.modalConfirm.parentNode.replaceChild(d,s.modalConfirm),s.modalConfirm=d;const m=s.modalCancel.cloneNode(!0);s.modalCancel.parentNode.replaceChild(m,s.modalCancel),s.modalCancel=m;const u=s.modalClose.cloneNode(!0);s.modalClose.parentNode.replaceChild(u,s.modalClose),s.modalClose=u,s.modalConfirm.addEventListener("click",()=>{"function"==typeof a&&a(),n()}),s.modalCancel.addEventListener("click",()=>{"function"==typeof r&&r(),n()}),s.modalClose.addEventListener("click",()=>{"function"==typeof r&&r(),n()}),s.confirmationModal.classList.add("active")}function n(){const e=document.getElementById("confirmationModal");e&&e.classList.remove("active")}function o(e,t){if(!e)return;const n=e.querySelector(".button-text"),o=e.querySelector(".button-spinner");t?(e.disabled=!0,n&&n.classList.add("hidden"),o&&o.classList.remove("hidden")):(e.disabled=!1,n&&n.classList.remove("hidden"),o&&o.classList.add("hidden"))}function a(e){if(!e)return"Never";let t;if("function"==typeof e.toDate)t=e.toDate();else{if(!(e instanceof Date))return"N/A";t=e}const n=Math.floor((new Date-t)/1e3);if(n<10)return"Just now";let o=Math.floor(n/31536e3);return o>=1?o+" year"+(1===o?"":"s")+" ago":(o=Math.floor(n/2592e3),o>=1?o+" month"+(1===o?"":"s")+" ago":(o=Math.floor(n/86400),o>=1?o+" day"+(1===o?"":"s")+" ago":(o=Math.floor(n/3600),o>=1?o+" hour"+(1===o?"":"s")+" ago":(o=Math.floor(n/60),o>=1?o+" minute"+(1===o?"":"s")+" ago":Math.floor(n)+" seconds ago"))))}function r(e){switch(e?.toLowerCase()){case"phone":return"bi-phone";case"laptop":return"bi-laptop";case"car":return"bi-car-front-fill";case"tablet":return"bi-tablet";case"watch":return"bi-smartwatch";default:return"bi-box"}}function i(e){switch(e?.toLowerCase()){case"online":return"var(--color-success)";case"lost":case"offline":return"var(--color-danger)";case"warning":return"var(--color-warning)";default:return"var(--color-text-secondary)"}}function s(e){return null==e?"bi-battery":e>85?"bi-battery-full":e>60?"bi-battery-half":"bi-battery"}function l(e,t){let n;return function(...o){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...o)},t)}}function c(e){return e?e.replace(/[<>&"']/g,function(e){return{"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"}[e]}):""}function d(e){if(!e)return"N/A";let t;if("function"==typeof e.toDate)t=e.toDate();else{if(!(e instanceof Date))return"N/A";t=e}return t.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})}function m(e,t){if(!e||!t)return;const n=e.getPosition(),o=n.lat(),a=n.lng(),r=t.lat-o,i=t.lng-a;if(Math.abs(r)>.01||Math.abs(i)>.01)return void e.setPosition(t);if(Math.abs(r)<1e-6&&Math.abs(i)<1e-6)return;const s=performance.now(),l=t=>{const n=t-s,c=Math.min(n/1e3,1),d=c*(2-c),m=o+r*d,u=a+i*d;e.setPosition({lat:m,lng:u}),c<1&&requestAnimationFrame(l)};requestAnimationFrame(l)}export{e as a,o as b,t as c,r as d,a as e,d as f,i as g,s as h,m as i,l as j,c as s};
